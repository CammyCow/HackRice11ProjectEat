
<html>
<head>
  <title>RiceEats Food Display</title>

</head>
<body>

  <ul id = 'list'>

  </ul>

  <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-app.js"></script>

  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>

  <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
  <script>
    // Initialize Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDgOQIJswEfH56KFvVAdq8KXZstPyZB3kg",
    authDomain: "hackriceprojecteating.firebaseapp.com",
    projectId: "hackriceprojecteating",
    storageBucket: "hackriceprojecteating.appspot.com",
    messagingSenderId: "371483673471",
    appId: "1:371483673471:web:169be295bac547daac904a",
    measurementId: "G-44KBRM0SXN"
  };


    var foodEntry = 0;
    function addItemtoList(name, day, meal, servery){
      var ul=document.getElementById('list');
      var header = document.createElement('h2');

      var _foodName = document.createElement('li');
      var _day = document.createElement('li');
      var _meal = document.createElement('li');
      var _servery = document.createElement('li');

      header.innerHTML = "Food: "+ (++foodEntry);
      _foodName.innerHTML = 'Name: ' + name;
      _day.innerHTML = 'Day: ' + day;
      _meal.innerHTML = 'Meal: ' + meal;
      _servery.innerHTML = 'Servery: ' + servery;

      ul.appendChild(header);
      ul.appendChild(_foodName);
      ul.appendChild(_day);
      ul.appendChild(_meal);
      ul.appendChild( _servery);
    }

    function fetchData(){
      firebase.initializeApp(firebaseConfig);
      firebase.database().ref('data').once('value', function(snapshot){
        snapshot.forEach(
          function(ChildSnapshot){
            let name = ChildSnapshot.val().0;
            let day = ChildSnapshot.val().1;
            let meal = ChildSnapshot.val().2;
            let servery = ChildSnapshot.val().3;
            addItemstoList(name, day, meal, servery);
          }
        );
      });
    }
    window.onload(fetchAllData);

  </script>
  <script src="index.js"></script>

</body>
</html>
